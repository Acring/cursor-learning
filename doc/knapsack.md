# 0/1背包问题

## 基本概述和原理

0/1背包问题是一个经典的动态规划问题。给定一组物品，每个物品都有自己的重量和价值，在限定的总重量内，选择若干物品使得物品的总价值最大。

0/1背包问题的特点是：每个物品只能选择放入或不放入背包（即 0 或 1），不能将物品分割。

### 核心思想

使用动态规划来解决，核心思路是：
1. 对于每个物品，我们有两种选择：放入背包或不放入背包
2. 使用二维数组记录在不同容量限制下的最优解
3. 状态转移方程：
   ```
   dp[i][w] = max(dp[i-1][w], dp[i-1][w-weight[i]] + value[i])
   ```
   其中：
   - dp[i][w] 表示前 i 个物品在容量为 w 的情况下的最大价值
   - weight[i] 是第 i 个物品的重量
   - value[i] 是第 i 个物品的价值

## 性能特征分析

### 时间复杂度
- O(n * W)，其中 n 是物品数量，W 是背包容量
- 需要填充 n * W 大小的动态规划表

### 空间复杂度
- O(n * W)，需要一个二维数组来存储中间状态
- 可以优化为 O(W)，使用滚动数组

## 代码实现关键点

1. 动态规划表的初始化
2. 状态转移的实现
3. 记录选择过程，用于回溯找出具体的选择方案
4. 结果回溯，确定选择了哪些物品

## 使用示例

```typescript
const items = [
    { weight: 2, value: 3 },
    { weight: 3, value: 4 },
    { weight: 4, value: 5 },
    { weight: 5, value: 6 }
];
const capacity = 8;
const result = knapsack(items, capacity);
console.log('最大价值:', result.maxValue);
console.log('选择的物品索引:', result.selectedItems);
```

## 优化思路

1. 空间优化：使用一维数组代替二维数组，实现空间复杂度 O(W)
2. 预处理优化：
   - 按照价值密度（价值/重量）排序
   - 移除重量超过容量的物品
3. 分支限界：在某些情况下可以提前结束计算

## 适用场景

1. 资源分配问题
2. 投资组合优化
3. 物流装载优化
4. 预算有限的项目选择

## 注意事项

1. 输入验证：
   - 确保物品重量和价值为非负数
   - 确保背包容量为非负数
2. 特殊情况处理：
   - 空物品列表
   - 容量为0的背包
3. 大规模数据处理：
   - 当物品数量或背包容量很大时，需要考虑性能优化
   - 可能需要考虑使用贪心算法作为近似解
4. 数值溢出：
   - 处理大数据时注意整数溢出问题 