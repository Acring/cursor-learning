# 快速排序（Quick Sort）算法学习笔记

## 1. 算法概述

快速排序是一种高效的、基于分治思想的排序算法。它的基本思路是：
1. 选择一个基准元素（pivot）
2. 将数组分为两部分：小于基准的元素和大于基准的元素
3. 递归地对这两部分进行排序

## 2. 性能特征

### 时间复杂度
- 平均情况：O(n log n)
- 最坏情况：O(n²) - 发生在数组已经排序或反向排序的情况
- 最好情况：O(n log n)

### 空间复杂度
- O(log n) - 主要来自递归调用栈的深度

### 算法特点
- 原地排序：不需要额外的数组空间
- 不稳定排序：相同元素的相对位置可能改变

## 3. 代码实现关键点

### 3.1 类型定义
```typescript
type CompareFunction<T> = (a: T, b: T) => number;
```
使用泛型和比较函数使算法具有更好的通用性，可以处理任意类型的数据。

### 3.2 分区函数（Partition）
分区函数是快速排序的核心，它完成以下工作：
1. 选择最后一个元素作为基准
2. 维护一个索引 i，表示小于基准元素的区域边界
3. 遍历数组，将小于基准的元素交换到前面
4. 最后将基准元素放到正确的位置

### 3.3 递归实现
通过递归调用对子数组进行排序，直到子数组的长度小于等于1。

## 4. 使用示例

```typescript
// 数字数组排序
const numbers = [64, 34, 25, 12, 22, 11, 90];
quickSort(numbers); // [11, 12, 22, 25, 34, 64, 90]

// 字符串数组排序
const strings = ['banana', 'apple', 'orange', 'grape'];
quickSort(strings); // ['apple', 'banana', 'grape', 'orange']
```

## 5. 优化思路

1. 选择基准元素：
   - 可以使用三数取中法选择基准
   - 随机选择基准元素
2. 处理重复元素：
   - 使用三路快排
3. 小数组优化：
   - 当数组长度小于某个阈值时，使用插入排序

## 6. 适用场景

- 大规模数据排序
- 内部排序（数据全部加载到内存）
- 对稳定性没有要求的场景
- 需要原地排序的场景

## 7. 注意事项

1. 对于已经排序的数组，性能会下降到O(n²)
2. 不适合小规模数据排序
3. 递归实现可能导致栈溢出
4. 不稳定排序可能影响相同元素的相对位置
